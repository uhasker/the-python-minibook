

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Chapter 7. Input and Output &#8212; The Python Minibook</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'src/07-files/chapter';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Chapter 8. Exceptions" href="../08-exceptions/chapter.html" />
    <link rel="prev" title="Chapter 6. Control flow" href="../06-control-flow/chapter.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    <p class="title logo__title">The Python Minibook</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    The Python Minibook
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../01-installation/chapter.html">Chapter 1. Fundamentals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-variables-data-types-and-operators/chapter.html">Chapter 2. Variables, data types and operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-functions/chapter.html">Chapter 3. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04-classes/chapter.html">Chapter 4. Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05-iterables/chapter.html">Chapter 5. Iterables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06-control-flow/chapter.html">Chapter 6. Control flow</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Chapter 7. Input and Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08-exceptions/chapter.html">Chapter 8. Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09-modules-and-packages/chapter.html">Chapter 8. Modules and packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10-the-project/chapter.html">Chapter 9. The project</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/uhasker/the-python-minibook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/uhasker/the-python-minibook/issues/new?title=Issue%20on%20page%20%2Fsrc/07-files/chapter.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/src/07-files/chapter.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Chapter 7. Input and Output</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-on-strings">More on strings</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#important-string-methods">Important string methods</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#escape-characters">Escape characters</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-input-function">The input() function</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-text-files">Working with text files</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-text-files">Reading text files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-with-statement">The with statement</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-mode-argument">The mode argument</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#encodings">Encodings</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="chapter-7-input-and-output">
<h1>Chapter 7. Input and Output<a class="headerlink" href="#chapter-7-input-and-output" title="Permalink to this heading">#</a></h1>
<p>In this chapter we will cover how to read input from a user or a file and how to write output to a file.</p>
<p>We will also cover a topic that is rarely discussed in introductory programming books, but should be understood by every working programmer - <em>encodings</em>.</p>
<section id="more-on-strings">
<h2>More on strings<a class="headerlink" href="#more-on-strings" title="Permalink to this heading">#</a></h2>
<p>When working with input and output, you will be usually need to perform operations on strings. While we introduced the string data type in chapter 1, we haven’t actually done too much with strings so far. Let us fix that and talk about strings in more detail.</p>
<section id="important-string-methods">
<h3>Important string methods<a class="headerlink" href="#important-string-methods" title="Permalink to this heading">#</a></h3>
<p>Just like lists, strings have a bunch of operators and methods that you will use quite often. We already discussed the concatenation operator <code class="docutils literal notranslate"><span class="pre">+</span></code> and repetition operator <code class="docutils literal notranslate"><span class="pre">*</span></code>. Another important operator is the index access operator, which allows us to take the character at some position of a string. This operator works the same way it works for lists - you think of a string as a <em>list of characters</em> in this context:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_str</span> <span class="o">=</span> <span class="s2">&quot;Monty Python&#39;s Flying Circus&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_str</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;y&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_str</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;u&#39;
</pre></div>
</div>
</div>
</div>
<p>However there is an important difference between strings and lists - unlike lists, strings are immutable:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_str</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;u&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">my_str</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;u&quot;</span>

<span class="ne">TypeError</span>: &#39;str&#39; object does not support item assignment
</pre></div>
</div>
</div>
</div>
<p>Just like with lists, you can slice strings. This is how you get the <strong>substring</strong> of a string in Python:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_str</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">12</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Python&#39;
</pre></div>
</div>
</div>
</div>
<p>Strings also ship with a lot of methods. It’s useful to know the most important ones, since you will be using them quite regulary.</p>
<p>For example you can lowercase strings using the <code class="docutils literal notranslate"><span class="pre">lower()</span></code> method and uppercase them using the <code class="docutils literal notranslate"><span class="pre">upper()</span></code> method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Monty Python&#39;s Flying Circus&quot;</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;monty python&#39;s flying circus&quot;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Monty Python&#39;s Flying Circus&quot;</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;MONTY PYTHON&#39;S FLYING CIRCUS&quot;
</pre></div>
</div>
</div>
</div>
<p>You can split a string into “words” using the <code class="docutils literal notranslate"><span class="pre">split()</span></code> method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Monty Python&#39;s Flying Circus&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Monty&#39;, &quot;Python&#39;s&quot;, &#39;Flying&#39;, &#39;Circus&#39;]
</pre></div>
</div>
</div>
</div>
<p>If you want to split on custom delimiter, you can do that as well:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Monty Python&#39;s Flying Circus&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Monty Python&#39;, &#39;s Flying Circus&#39;]
</pre></div>
</div>
</div>
</div>
<p>The opposite of the <code class="docutils literal notranslate"><span class="pre">split()</span></code> method is the <code class="docutils literal notranslate"><span class="pre">join()</span></code> method. This method is a bit confusing because it’s not called on the lists of strings it joins, but on the delimiter (and takes the strings it joins as a parameter):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;Monty&quot;</span><span class="p">,</span> <span class="s2">&quot;Python&#39;s&quot;</span><span class="p">,</span> <span class="s2">&quot;Flying&quot;</span><span class="p">,</span> <span class="s2">&quot;Circus&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;Monty Python&#39;s Flying Circus&quot;
</pre></div>
</div>
</div>
</div>
<p>We can also check whether a string <em>starts with</em> a certain prefix or <em>ends with</em> a certain suffix:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Monty Python&#39;s Flying Circus&quot;</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Monty Py&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Monty Python&#39;s Flying Circus&quot;</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;us&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</section>
<section id="escape-characters">
<h3>Escape characters<a class="headerlink" href="#escape-characters" title="Permalink to this heading">#</a></h3>
<p>Some characters don’t denote letters, digits or special characters like <code class="docutils literal notranslate"><span class="pre">.</span></code>, <code class="docutils literal notranslate"><span class="pre">,</span></code> or <code class="docutils literal notranslate"><span class="pre">;</span></code> and need special treatment. The most important example of this is the <strong>newline character</strong>.</p>
<p>The newline character is a <strong>non-printable character</strong>, because it’s - well - not really printed to the screen. Instead it describes an <em>action to take</em> (namely to go to the next line). Python represents newline characters using <code class="docutils literal notranslate"><span class="pre">\n</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_str</span> <span class="o">=</span> <span class="s2">&quot;This a line.</span><span class="se">\n</span><span class="s2">This is another line.&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>If we print <code class="docutils literal notranslate"><span class="pre">my_str</span></code>, we will see the newline:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">my_str</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>This a line.
This is another line.
</pre></div>
</div>
</div>
</div>
<p>However if we get the <em>unambiguous representation</em> of <code class="docutils literal notranslate"><span class="pre">my_str</span></code>, we will see the <code class="docutils literal notranslate"><span class="pre">\n</span></code> representation of the newline:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_str</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;This a line.\nThis is another line.&#39;
</pre></div>
</div>
</div>
</div>
<p>This is actually more important than you might think at first. The reason is that both <code class="docutils literal notranslate"><span class="pre">\n</span></code> and the sequence <code class="docutils literal notranslate"><span class="pre">\r\n</span></code> represent a newline (which has to do with Windows quirks). Consider the following two strings:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_str1</span> <span class="o">=</span> <span class="s2">&quot;This a line.</span><span class="se">\n</span><span class="s2">This is another line.&quot;</span>
<span class="n">my_str2</span> <span class="o">=</span> <span class="s2">&quot;This a line.</span><span class="se">\r\n</span><span class="s2">This is another line.&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>These two strings <em>look</em> equal, if we <code class="docutils literal notranslate"><span class="pre">print</span></code> them:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">my_str1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>This a line.
This is another line.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">my_str2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>This a line.
This is another line.
</pre></div>
</div>
</div>
</div>
<p>However they are two different strings, which the equality operator confirms:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_str1</span> <span class="o">==</span> <span class="n">my_str2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p>This can be extremely confusing, if you look at the output of <code class="docutils literal notranslate"><span class="pre">print</span></code>. However the <em>unambiguous representation</em> of the strings immediately clears up the confusion:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_str1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;This a line.\nThis is another line.&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_str2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;This a line.\r\nThis is another line.&#39;
</pre></div>
</div>
</div>
</div>
<p>Remember that if you are not inside a REPL, you will need to call the <code class="docutils literal notranslate"><span class="pre">repr</span></code> function manually to get the <em>unambiguous representation</em> of the strings.</p>
<p>Another important character that gets special treatment is the <strong>tab character</strong> which is represented using <code class="docutils literal notranslate"><span class="pre">\t</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">first column</span><span class="se">\t</span><span class="s2">second column&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>	first column	second column
</pre></div>
</div>
</div>
</div>
<p>The characters <code class="docutils literal notranslate"><span class="pre">\t</span></code> and <code class="docutils literal notranslate"><span class="pre">\n</span></code> are also called <strong>escape characters</strong> because a backslash is used for <em>escaping</em> characters.</p>
<p>Because backslashes have this special meaning inside string, this means that if you want to display backslashes in your strings, you might need to escape them as well resulting in <code class="docutils literal notranslate"><span class="pre">\\</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">t means tab&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>\t means tab
</pre></div>
</div>
</div>
</div>
<p>Escape characters also allow you to use quotes inside a string:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="n">this</span> <span class="n">will</span> <span class="ow">not</span> <span class="n">work</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span>  <span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">24</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="n">this</span> <span class="n">will</span> <span class="ow">not</span> <span class="n">work</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="o">^</span>
<span class="ne">SyntaxError</span>: invalid syntax
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">this will work</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;this will work&quot;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="the-input-function">
<h2>The input() function<a class="headerlink" href="#the-input-function" title="Permalink to this heading">#</a></h2>
<p>We can read a string from the command line using the <code class="docutils literal notranslate"><span class="pre">input()</span></code> function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">user_value</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
</pre></div>
</div>
<p>This will read the input of the user into the variable <code class="docutils literal notranslate"><span class="pre">user_value</span></code>.</p>
<p>It’s usually a good idea to supply the <code class="docutils literal notranslate"><span class="pre">prompt</span></code> argument to the <code class="docutils literal notranslate"><span class="pre">input()</span></code> function which will display a prompt telling the user what to do:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">user_value</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Supply a value:&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="working-with-text-files">
<h2>Working with text files<a class="headerlink" href="#working-with-text-files" title="Permalink to this heading">#</a></h2>
<section id="reading-text-files">
<h3>Reading text files<a class="headerlink" href="#reading-text-files" title="Permalink to this heading">#</a></h3>
<p>Let’s create a text file <code class="docutils literal notranslate"><span class="pre">example.txt</span></code> with the following content:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Roses</span> <span class="n">are</span> <span class="n">red</span><span class="o">.</span>
<span class="n">Violets</span> <span class="n">aren</span><span class="s1">&#39;t blue.</span>
<span class="n">It</span><span class="s1">&#39;s literally in the name.</span>
<span class="n">They</span><span class="s1">&#39;re called violets.</span>
</pre></div>
</div>
<p>We can read the file using the <code class="docutils literal notranslate"><span class="pre">open</span></code> function. This function returns a <strong>file object</strong> which allows access to the underlying file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">file</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;_io.TextIOWrapper name=&#39;example.txt&#39; mode=&#39;r&#39; encoding=&#39;UTF-8&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>We can read the content of the file using the <code class="docutils literal notranslate"><span class="pre">read</span></code> method of the <code class="docutils literal notranslate"><span class="pre">file</span></code> object. The <code class="docutils literal notranslate"><span class="pre">read</span></code> method returns the entire content of the file as a regular string:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">content</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Roses are red.
Violets aren&#39;t blue.
It&#39;s literally in the name.
They&#39;re called violets.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>str
</pre></div>
</div>
</div>
</div>
<p>We also need to <em>close</em> the file to free up the resouces consumed by the file object:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s check that the file is really closed by inspecting the <code class="docutils literal notranslate"><span class="pre">closed</span></code> attribute:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">file</span><span class="o">.</span><span class="n">closed</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>Trying to call <code class="docutils literal notranslate"><span class="pre">read</span></code> on a closed file object will result in an error:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">33</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="ne">ValueError</span>: I/O operation on closed file.
</pre></div>
</div>
</div>
</div>
<p>To summarize, we first need to <em>open</em> a file resulting in a <em>file object</em>. We are then able to perform operation on that <em>file object</em> like reading the content of the file. Finally we need to <em>close</em> the file object.</p>
</section>
<section id="the-with-statement">
<h3>The with statement<a class="headerlink" href="#the-with-statement" title="Permalink to this heading">#</a></h3>
<p>To simplify working with files, we can use the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement which will automatically close the file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    
    <span class="c1"># The file is automatically closed, i.e. there is no need to call file.close()</span>

<span class="n">file</span><span class="o">.</span><span class="n">closed</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Roses are red.
Violets aren&#39;t blue.
It&#39;s literally in the name.
They&#39;re called violets.
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-mode-argument">
<h3>The mode argument<a class="headerlink" href="#the-mode-argument" title="Permalink to this heading">#</a></h3>
<p>Writing to a file works similarly to reading from a file. We can write to a file by passing the <code class="docutils literal notranslate"><span class="pre">&quot;w&quot;</span></code> (“write”) mode as the second argument to <code class="docutils literal notranslate"><span class="pre">open</span></code> and calling the <code class="docutils literal notranslate"><span class="pre">write</span></code> method on the file object:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;somefile.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Some content&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This will create a file <code class="docutils literal notranslate"><span class="pre">somefile.txt</span></code> with the content <code class="docutils literal notranslate"><span class="pre">&quot;Some</span> <span class="pre">content&quot;</span></code>. Note that if that file <em>already exists, it’s content will be completely overwritten by the new content</em>. If we want to avoid that and instead <em>append</em> the new content to the existing content we need to use the <code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code> (append) mode:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;somefile.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Some content&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>If you omit the mode, the mode will be set to <code class="docutils literal notranslate"><span class="pre">&quot;r&quot;</span></code> (read) by default.</p>
</section>
</section>
<section id="encodings">
<h2>Encodings<a class="headerlink" href="#encodings" title="Permalink to this heading">#</a></h2>
<p>Now that we have the basics out of the way, we need to have a look at how the content of a file is actually stored on disk. To accomplish that we will pass yet another mode argument to <code class="docutils literal notranslate"><span class="pre">open</span></code>, namely <code class="docutils literal notranslate"><span class="pre">rb</span></code>. The <code class="docutils literal notranslate"><span class="pre">rb</span></code> mode means “read the file as a binary file” (<code class="docutils literal notranslate"><span class="pre">r</span></code> = read and <code class="docutils literal notranslate"><span class="pre">b</span></code> = binary):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>First of all we note that the content is no longer a string, but a <code class="docutils literal notranslate"><span class="pre">bytes</span></code> object:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">content</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>b&quot;Roses are red.\nViolets aren&#39;t blue.\nIt&#39;s literally in the name.\nThey&#39;re called violets.\n&quot;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>bytes
</pre></div>
</div>
</div>
</div>
<p>This object contains the actual <em>bytes</em> of the file. A <strong>byte</strong> is simply the smallest unit of storage on a computer and can (usually) hold values from 0 to 255.</p>
<p>For example we access the <em>first byte</em> of the file like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">content</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>82
</pre></div>
</div>
</div>
</div>
<p>Wait, why do we suddenly have numbers when we know that a file contains <em>characters</em>? The answer to this question is that the computer <em>deceptively lies to us</em>.</p>
<p>You see, computers can’t really store characters. They can <em>only store bytes</em> which represent numbers. This means that the file <em>actually contains a sequence of numbers</em>.</p>
<p>However computers maintain mappings from those numbers to characters, so that they can <em>interpret those numbers as characters</em>. The simplest such mapping is the <strong>ASCII table</strong>. Here is an excerpt from that table:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> <span class="n">Byte</span> <span class="n">value</span> <span class="o">|</span> <span class="n">Character</span>        <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="o">...</span>        <span class="o">|</span> <span class="o">...</span>              <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">80</span>         <span class="o">|</span> <span class="n">P</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">81</span>         <span class="o">|</span> <span class="n">Q</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">82</span>         <span class="o">|</span> <span class="n">R</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">83</span>         <span class="o">|</span> <span class="n">S</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">84</span>         <span class="o">|</span> <span class="n">T</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">85</span>         <span class="o">|</span> <span class="n">U</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">86</span>         <span class="o">|</span> <span class="n">V</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">87</span>         <span class="o">|</span> <span class="n">W</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">88</span>         <span class="o">|</span> <span class="n">X</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">89</span>         <span class="o">|</span> <span class="n">Y</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">90</span>         <span class="o">|</span> <span class="n">Z</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="o">...</span>        <span class="o">|</span> <span class="o">...</span>              <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">97</span>         <span class="o">|</span> <span class="n">a</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">98</span>         <span class="o">|</span> <span class="n">b</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">99</span>         <span class="o">|</span> <span class="n">c</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">100</span>        <span class="o">|</span> <span class="n">d</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">101</span>        <span class="o">|</span> <span class="n">e</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="o">...</span>        <span class="o">|</span> <span class="o">...</span>              <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">110</span>        <span class="o">|</span> <span class="n">n</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">111</span>        <span class="o">|</span> <span class="n">o</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">112</span>        <span class="o">|</span> <span class="n">p</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">113</span>        <span class="o">|</span> <span class="n">q</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">114</span>        <span class="o">|</span> <span class="n">r</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="mi">115</span>        <span class="o">|</span> <span class="n">s</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
<span class="o">|</span> <span class="o">...</span>        <span class="o">|</span> <span class="o">...</span>              <span class="o">|</span>
<span class="o">|</span> <span class="n">__________</span> <span class="o">|</span> <span class="n">_________________</span><span class="o">|</span>
</pre></div>
</div>
<p>Now we can make some sense of the values in the <code class="docutils literal notranslate"><span class="pre">content</span></code> variable:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">content</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>82
</pre></div>
</div>
</div>
</div>
<p>If we look at the ASCII table, we can see that the number <code class="docutils literal notranslate"><span class="pre">82</span></code> corresponds to the character <code class="docutils literal notranslate"><span class="pre">R</span></code>. Therefore the first byte of the file contains the number <code class="docutils literal notranslate"><span class="pre">82</span></code> which represents the character <code class="docutils literal notranslate"><span class="pre">R</span></code>. The next few characters should be be <code class="docutils literal notranslate"><span class="pre">o</span></code>, <code class="docutils literal notranslate"><span class="pre">s</span></code>, <code class="docutils literal notranslate"><span class="pre">e</span></code> and <code class="docutils literal notranslate"><span class="pre">s</span></code>, i.e. the following bytes should be <code class="docutils literal notranslate"><span class="pre">111</span></code>, <code class="docutils literal notranslate"><span class="pre">115</span></code>, <code class="docutils literal notranslate"><span class="pre">101</span></code> and <code class="docutils literal notranslate"><span class="pre">115</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">content</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>111
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">content</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>115
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">content</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>101
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">content</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>115
</pre></div>
</div>
</div>
</div>
<p>Characters like space, newline etc are also simply stored as bytes. For example the number corresponding to the space characters is <code class="docutils literal notranslate"><span class="pre">32</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">content</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>32
</pre></div>
</div>
</div>
</div>
<p>The ASCII table worked fine for a while until programmers suddenly noticed that there are languages that are <em>not</em> English. This was a truly <em>shocking</em> discovery that fundamentally changed the way programmers thought about the world. The <strong>Unicode</strong> standard was born.</p>
<blockquote>
<div><p>This is really oversimplified history of the Unicode standard. The reality was much more complicated.</p>
</div></blockquote>
<p>The most important concept of the Unicode standard was the code point. A <strong>code point</strong> is a numerical value for a specific character. This is very similar to the ASCII table, except that Unicode is <em>much, much bigger</em> and contains such characters as:</p>
<ul class="simple">
<li><p>the German umlaut <code class="docutils literal notranslate"><span class="pre">ä</span></code> which has the code point 228</p></li>
<li><p>the checkmark <code class="docutils literal notranslate"><span class="pre">✅</span></code> which has the code point 9989</p></li>
<li><p>the emoji <code class="docutils literal notranslate"><span class="pre">😀</span></code> which has the code point 128512</p></li>
</ul>
<p>You can think of Unicode as a <em>giant</em> extension of the ASCII table.</p>
<p>The fact that Unicode is so large means we can no longer store every character in a single byte. In order to fit every Unicode character, we would need at least <em>four bytes</em>. However this would be extremely wasteful for e.g. english texts, since we would rarely <em>actually</em> need all four bytes in this case.</p>
<p>Therefore there are multiple <strong>encodings</strong> which govern how code points are <strong>encoded</strong> (i.e. converted) to bytes. For example an encoding can decide to represent some characters as a single byte, some characters as two bytes etc. We will not dive into the gritty details of encodings in this chapter since this is not essential to understand (at least not for know). But it <em>is essential</em> to realize that the <em>same code point</em> can be <em>converted to a different sequence of bytes depending on the encoding</em>.</p>
<p>Consider the German umlaut <code class="docutils literal notranslate"><span class="pre">ä</span></code> for example. The code point of <code class="docutils literal notranslate"><span class="pre">ä</span></code> is (always) 228, because that is the code point that was assigned to <code class="docutils literal notranslate"><span class="pre">ä</span></code>. However <em>different encodings</em> will represent this code point using <em>different byte sequences</em>.</p>
<p>For example the encoding <code class="docutils literal notranslate"><span class="pre">UTF-8</span></code> (which is the most popular encoding on the internet) will represent that code point using the following sequence of bytes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">utf8_umlaut</span> <span class="o">=</span> <span class="s2">&quot;ä&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">utf8_umlaut</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">utf8_umlaut</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>195
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">utf8_umlaut</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>164
</pre></div>
</div>
</div>
</div>
<p>However the <code class="docutils literal notranslate"><span class="pre">Windows-1252</span></code> encoding (called <code class="docutils literal notranslate"><span class="pre">cp1252</span></code> for short) which is commonly used on Windows systems represents the same code point completely differently:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cp1252_umlaut</span> <span class="o">=</span> <span class="s2">&quot;ä&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;cp1252&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">cp1252_umlaut</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cp1252_umlaut</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>228
</pre></div>
</div>
</div>
</div>
<p>All of this has an extremely important practical consequence:</p>
<p><strong>If you want to know what string a sequence of bytes represents, you need to know the encoding of that sequence. The sequence of bytes by itself is (generally speaking) useless without the encoding.</strong></p>
<p>Consider the following sequence of bytes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">195</span><span class="p">,</span> <span class="mi">164</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>If that sequence of bytes has the encoding <code class="docutils literal notranslate"><span class="pre">utf-8</span></code> it represents the German umlaut <code class="docutils literal notranslate"><span class="pre">ä</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;ä&#39;
</pre></div>
</div>
</div>
</div>
<p>However if that sequence of bytes has the encoding <code class="docutils literal notranslate"><span class="pre">cp-1252</span></code> it suddenly represents a <em>completely different</em> string:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;cp1252&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Ã¤&#39;
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p>It should be noted that if you don’t know the encoding of a string there are certain statistical methods that can be used to guess that encoding using common patterns. In addition there are some encodings that are much more common than the rest (like UTF-8 or Windows-1252). However this is all guessing and therefore not always accurate. This means that it is usually a bad idea to rely on such guesses when writing production code.</p>
</div></blockquote>
<p>This also means that if you write a file using one encoding and then try to read it using a different encoding, you will either get scrambled content or maybe even fail to read the file completely. This is actually a fairly common occurence if a file was created on an operating system that uses one encoding by default and then read on another operating system that uses another encoding by default.</p>
<p>Let’s see this in action. Create a text file <code class="docutils literal notranslate"><span class="pre">german.txt</span></code> with the following content:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="n">file</span> <span class="k">with</span> <span class="n">umlauts</span><span class="p">:</span> <span class="n">ÄÖÜäöü</span>
</pre></div>
</div>
<p>The encoding of the file should be <code class="docutils literal notranslate"><span class="pre">UTF-8</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;german.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">german_file</span><span class="p">:</span>
    <span class="n">german_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;A file with umlauts: ÄÖÜäöü&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s try to read the same file using a different encoding:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;german.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;cp1252&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">german_file</span><span class="p">:</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">german_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">content</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;A file with umlauts: Ã„Ã–ÃœÃ¤Ã¶Ã¼&#39;
</pre></div>
</div>
</div>
</div>
<p>Uh-oh! The content of this file is completely scrambled! This is because we tried to read it in an encoding that is different from the original encoding it was written in.</p>
<p>Depending on the encoding, the read may even fail <em>completely</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;german.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-16&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">german_file</span><span class="p">:</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">german_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">UnicodeDecodeError</span><span class="g g-Whitespace">                        </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">61</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;german.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-16&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">german_file</span><span class="p">:</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="n">content</span> <span class="o">=</span> <span class="n">german_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/codecs.py:322,</span> in <span class="ni">BufferedIncrementalDecoder.decode</span><span class="nt">(self, input, final)</span>
<span class="g g-Whitespace">    </span><span class="mi">319</span> <span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">final</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">320</span>     <span class="c1"># decode input (taking the buffer into account)</span>
<span class="g g-Whitespace">    </span><span class="mi">321</span>     <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span> <span class="o">+</span> <span class="nb">input</span>
<span class="ne">--&gt; </span><span class="mi">322</span>     <span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">consumed</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_decode</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">final</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">323</span>     <span class="c1"># keep undecoded input until the next call</span>
<span class="g g-Whitespace">    </span><span class="mi">324</span>     <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">consumed</span><span class="p">:]</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/encodings/utf_16.py:61,</span> in <span class="ni">IncrementalDecoder._buffer_decode</span><span class="nt">(self, input, errors, final)</span>
<span class="g g-Whitespace">     </span><span class="mi">58</span> <span class="k">def</span> <span class="nf">_buffer_decode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">errors</span><span class="p">,</span> <span class="n">final</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">59</span>     <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">decoder</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">60</span>         <span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">consumed</span><span class="p">,</span> <span class="n">byteorder</span><span class="p">)</span> <span class="o">=</span> \
<span class="ne">---&gt; </span><span class="mi">61</span>             <span class="n">codecs</span><span class="o">.</span><span class="n">utf_16_ex_decode</span><span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="n">errors</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">final</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">62</span>         <span class="k">if</span> <span class="n">byteorder</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">63</span>             <span class="bp">self</span><span class="o">.</span><span class="n">decoder</span> <span class="o">=</span> <span class="n">codecs</span><span class="o">.</span><span class="n">utf_16_le_decode</span>

<span class="ne">UnicodeDecodeError</span>: &#39;utf-16-le&#39; codec can&#39;t decode byte 0xbc in position 32: truncated data
</pre></div>
</div>
</div>
</div>
<p>This is actually better than scrambled content because of the following general programming principle:</p>
<p><strong>It’s better to crash than to proceed with invalid data</strong>.</p>
<p>The reason for this is simple: If you crash, then at least you know you have an error. If you proceed with invalid data, then you may never know that you have an error until something really bad happens much later.</p>
<p>Consider a file that contains bank transactions. If you fail to read this file, then you know that your software has an error and you may try to fix it. But if you proceed with scrambled content, you may process completely wrong transactions resulting in <em>a lot</em> of headaches for <em>a lot</em> of people (including <em>you</em>).</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./src/07-files"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../06-control-flow/chapter.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Chapter 6. Control flow</p>
      </div>
    </a>
    <a class="right-next"
       href="../08-exceptions/chapter.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Chapter 8. Exceptions</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-on-strings">More on strings</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#important-string-methods">Important string methods</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#escape-characters">Escape characters</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-input-function">The input() function</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-text-files">Working with text files</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-text-files">Reading text files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-with-statement">The with statement</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-mode-argument">The mode argument</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#encodings">Encodings</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Mikhail Berkov
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>